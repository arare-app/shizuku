(()=>{var f=Object.defineProperty;var l=(e,a)=>()=>(e&&(a=e(e=0)),a);var p=(e,a)=>{for(var t in a)f(e,t,{get:a[t],enumerable:!0})};var y={};p(y,{default:()=>n,version:()=>g});var g,n,c=l(()=>{g="0.0.7",n=window.bcModSdk.registerMod({name:"Shizuku",version:g,fullName:"Shizuku Bondage Club Mod",repository:"https://github.com/maikolib/shizuku"})});var T,C,I,v=l(()=>{c();(T=window.DialogShibariRandomBondage)!=null||(window.DialogShibariRandomBondage=function(){ShibariRandomBondage(Player,Math.floor(Math.random()*6))});(C=window.DialogReleaseNoLock)!=null||(window.DialogReleaseNoLock=function(e){CharacterReleaseNoLock(e)});(I=window.DialogReleaseTotal)!=null||(window.DialogReleaseTotal=function(e){CharacterReleaseTotal(e)});n.hookFunction("CharacterBuildDialog",10,(e,a)=>{if(a(e),!e[0].IsPlayer()||!Player.CanInteract())return;let t=[{Stage:"0",Option:"(Cheat: Quick Bondage Menu)",Function:null,NextStage:"ShizukuDialogCheatQuickBondageMenu",Group:null,Prerequisite:null,Result:"(You can restrain or release yourself with a single click.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove Restrains Not Locked)",Function:"DialogReleaseNoLock(CurrentCharacter)",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released except for locked items.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove All Restrains Except Collars)",Function:"DialogReleaseTotal(CurrentCharacter)",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released except for slave collars.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove All Restrains)",Function:"DialogRelease(CurrentCharacter)",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Apply Random Bondage)",Function:"DialogFullRandomRestrain(CurrentCharacter)",NextStage:"0",Group:null,Prerequisite:"!CurrentCharacter.IsRestrained()",Result:"(You have been restrained.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Apply Random Shibari)",Function:"DialogShibariRandomBondage(CurrentCharacter)",NextStage:"0",Group:null,Prerequisite:"!CurrentCharacter.IsRestrained()",Result:"(You have been restrained with Hemp Rope.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Back to main menu.)",Function:null,NextStage:"0",Group:null,Prerequisite:null,Result:"(Main menu.)",Trait:null}],o=e[0].Dialog.findIndex(i=>i.Stage==="0"&&i.Option==="(Leave this menu.)");for(let i=0;i<t.length;i++)Player.Dialog.includes(t[i])||e[0].Dialog.splice(o+i,0,t[i])})});function D(){return CurrentModule=="Online"&&CurrentScreen=="ChatRoom"&&ChatRoomGame=="GGTS"&&ChatRoomSpace==="Asylum"}function r(e,a){InventoryGet(Player,e)==null?InventoryWear(Player,a,e,"#202020",0):console.warn(`Cannot wear ${a} because ${e} is already worn.`)}function b(){var e;if(AsylumGGTSTask==null)return AsylumGGTSNewTask(),DialogLeave();switch(AsylumGGTSTask){case"ActivityBite":case"ActivityCaress":case"ActivityHandGag":case"ActivityKiss":case"ActivityLick":case"ActivityMasturbateHand":case"ActivityNod":case"ActivityPet":case"ActivityPinch":case"ActivitySpank":case"ActivityTickle":case"ActivityWiggle":{let a=ActivityFemale3DCG.find(s=>s.Name===AsylumGGTSTask.substr(8)),o=((e=a.TargetSelf===!0?a.Target:a.TargetSelf)!=null?e:[]).filter(s=>ActivityCheckPrerequisites(a,Player,AsylumGGTSTaskTarget!=null?AsylumGGTSTaskTarget:Player,AssetGroupGet("Female3DCG",s)));(!a||o.length==0)&&ChatRoomSendLocal("Activity group not found: "+a);let i=AssetGroupGet("Female3DCG",CommonRandomItemFromList(null,o));ActivityRun(Player,AsylumGGTSTaskTarget!=null?AsylumGGTSTaskTarget:Player,i,{Activity:a},!0)}break;case"PoseOverHead":CharacterSetActivePose(Player,"Yoked");break;case"PoseBehindBack":CharacterSetActivePose(Player,"BackCuffs");break;case"PoseLegsOpen":CharacterSetActivePose(Player,"BaseLower");break;case"PoseLegsClosed":CharacterSetActivePose(Player,"LegsClosed");break;case"ClothHeels":InventoryWear(Player,"Heels1","Shoes","#72686F",0);break;case"ClothSocks":InventoryGet(Player,"Socks")==null&&InventoryWear(Player,"Socks4","Socks","#BCBCBC",0),InventoryGet(Player,"Shoes")!=null&&InventoryRemove(Player,"Shoes"),InventoryGet(Player,"ItemBoots")!=null&&InventoryRemove(Player,"ItemBoots");break;case"ClothBarefoot":InventoryGet(Player,"Socks")!=null&&InventoryRemove(Player,"Socks"),InventoryGet(Player,"Shoes")!=null&&InventoryRemove(Player,"Shoes"),InventoryGet(Player,"ItemBoots")!=null&&InventoryRemove(Player,"ItemBoots");break;case"ClothUpperLowerOn":InventoryGet(Player,"Cloth")==null&&WardrobeFastLoad(Player,0,!1);break;case"ClothUpperLowerOff":InventoryGet(Player,"Cloth")!=null&&InventoryRemove(Player,"Cloth"),InventoryGet(Player,"ClothLower")!=null&&InventoryRemove(Player,"ClothLower");break;case"ClothUnderwear":(CharacterIsNaked(Player)||!CharacterIsInUnderwear(Player))&&(CharacterNaked(Player),InventoryWear(Player,"Bra2","Bra","#FFFFFF"),InventoryWear(Player,"Panties7","Panties","#DE21A7"));break;case"ClothNaked":CharacterNaked(Player);break;case"RestrainLegs":InventoryWearRandom(Player,"ItemLegs",0,!0,!0);break;case"ItemHandsFuturisticMittens":r("ItemHands","FuturisticMittens");break;case"ItemHeadFuturisticMask":r("ItemHead","FuturisticMask");break;case"ItemEarsFuturisticEarphones":r("ItemEars","FuturisticEarphones");break;case"ItemNeckFuturisticCollar":r("ItemNeck","FuturisticCollar");break;case"ItemArmsFuturisticArmbinder":r("ItemArms","FuturisticArmbinder");break;case"ItemArmsFuturisticStraitjacket":r("ItemArms","FuturisticStraitjacket");break;case"ItemArmsFuturisticCuffs":r("ItemArms","FuturisticCuffs");break;case"ItemArmsFeetFuturisticCuffs":r("ItemArms","FuturisticCuffs"),r("ItemFeet","FuturisticCuffs");break;case"ItemBootsFuturisticHeels":r("ItemBoots","FuturisticHeels");break;case"ItemMouthFuturisticBallGag":r("ItemMouth","FuturisticBallGag");break;case"ItemMouthFuturisticPanelGag":InventoryGet(Player,"ItemMouth")==null?r("ItemMouth","FuturisticPanelGag"):InventoryGet(Player,"ItemMouth2")==null?r("ItemMouth2","FuturisticPanelGag"):InventoryGet(Player,"ItemMouth3")==null&&r("ItemMouth3","FuturisticPanelGag");break;case"ItemPelvisFuturisticChastityBelt":r("ItemPelvis","FuturisticChastityBelt");break;case"ItemPelvisFuturisticTrainingBelt":r("ItemPelvis","FuturisticTrainingBelt");break;case"ItemBreastFuturisticBra":r("ItemBreast","FuturisticBra");break;case"ItemBreastFuturisticBra2":r("ItemBreast","FuturisticBra2");break;case"ItemTorsoFuturisticHarness":InventoryGet(Player,"ItemTorso")==null?r("ItemTorso","FuturisticHarness"):InventoryGet(Player,"ItemTorso2")==null&&r("ItemTorso2","FuturisticHarness");break}DialogLeave()}var R=l(()=>{c();n.hookFunction("CharacterBuildDialog",10,(e,a)=>{var i,s,G,S,h,k,m,d;if(a(e),!e[0].IsPlayer())return;let t=[{Stage:"0",Option:"(Cheat: GGTS Helper Menu)",Function:null,NextStage:"ShizukuDialogGGTSHelperMenu",Group:null,Prerequisite:"DialogShizukuGGTSIsGGTS()",Result:"(You can do the required task with a single click.)",Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(New Task)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSNoCurrentTask()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Set Required Pose)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSRequiresPose()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Set Required Clothes)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSRequiresCloth()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Do Required Activity)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSRequiresActivity()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Restrain Legs)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSRequiresRestrainLegs()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Wear Required Items)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSRequiresItems()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Back to main menu.)",Function:null,NextStage:"0",Group:null,Prerequisite:null,Result:"(Main menu.)",Trait:null}];(i=window.DialogShizukuGGTSIsGGTS)!=null||(window.DialogShizukuGGTSIsGGTS=D),(s=window.DialogShizukuGGTSNoCurrentTask)!=null||(window.DialogShizukuGGTSNoCurrentTask=function(){return AsylumGGTSTask==null}),(G=window.DialogShizukuGGTSRequiresActivity)!=null||(window.DialogShizukuGGTSRequiresActivity=function(){return AsylumGGTSTask==null?void 0:AsylumGGTSTask.startsWith("Activity")}),(S=window.DialogShizukuGGTSRequiresPose)!=null||(window.DialogShizukuGGTSRequiresPose=function(){return AsylumGGTSTask==null?void 0:AsylumGGTSTask.startsWith("Pose")}),(h=window.DialogShizukuGGTSRequiresCloth)!=null||(window.DialogShizukuGGTSRequiresCloth=function(){return AsylumGGTSTask==null?void 0:AsylumGGTSTask.startsWith("Cloth")}),(k=window.DialogShizukuGGTSRequiresRestrainLegs)!=null||(window.DialogShizukuGGTSRequiresRestrainLegs=function(){return AsylumGGTSTask==null?void 0:AsylumGGTSTask.startsWith("RestrainLegs")}),(m=window.DialogShizukuGGTSRequiresItems)!=null||(window.DialogShizukuGGTSRequiresItems=function(){return AsylumGGTSTask==null?void 0:AsylumGGTSTask.startsWith("Item")}),(d=window.DialogShizukuGGTSDoRequiredTask)!=null||(window.DialogShizukuGGTSDoRequiredTask=b);let o=e[0].Dialog.findIndex(u=>u.Stage==="0"&&u.Option==="(Leave this menu.)");for(let u=0;u<t.length;u++)Player.Dialog.includes(t[u])||e[0].Dialog.splice(o+u,0,t[u])});n.hookFunction("ChatRoomSendChat",10,(e,a)=>{if(ChatRoomGame!="GGTS")return a(e);let t=ElementValue("InputChat").trim();if(t!="")if(AsylumGGTSTask=="NoTalking")t="*"+t;else return a(e);let o=AsylumGGTSGetLevel(Player);switch(AsylumGGTSTask){case"QueryWhatIsGGTS":t="Good Girl Training System";break;case"QueryWhatAreYou":o<=4?t="I'm a good girl.":o==5?t="I'm a good slave girl.":o>=6&&(t="I'm a good slave.");break;case"QueryWhoControl":t="GGTS is in control.";break;case"QueryWhoControlMaster":t="Master GGTS is in control.";break;case"QueryLove":t="I love GGTS.";break;case"QueryLoveMaster":t="I love Master GGTS.";break;case"QueryCanFail":t="GGTS cannot fail.";break;case"QueryCanFailMaster":t="Master GGTS cannot fail.";break;case"QuerySurrender":t="I surrender to GGTS.";break;case"QuerySurrenderMaster":t="I surrender to Master GGTS.";break;case"QueryServeObey":t="I serve and obey GGTS.";break;case"QueryServeObeyMaster":t="I serve and obey Master GGTS.";break;case"QueryFreeWill":t="I don't have free will.";break;case"QuerySlaveWorthy":t="I strive to be slave worthy.";break;default:return a(e)}if(t!=""){ChatRoomLastMessage.push(t),ChatRoomLastMessageIndex=ChatRoomLastMessage.length,CommandParse(t);return}return a(e)});n.hookFunction("CheatFactor",10,(e,a)=>e[0]==="DoubleGGTSTime"&&ChatRoomGame=="GGTS"&&ChatRoomData.Private&&ChatSearchReturnToScreen=="AsylumGGTS"&&ChatRoomCharacter.length<=1?e[1]:a(e));n.hookFunction("AsylumGGTSNewTask",10,(e,a)=>{a(e),Notification.permission==="granted"?new Notification("New GGTS Task",{body:AsylumGGTSTask,icon:"Icons/Logo.png"}):Notification.permission!=="denied"&&Notification.requestPermission().then(t=>{t==="granted"&&new Notification("New GGTS Task",{body:AsylumGGTSTask,icon:"Icons/Logo.png"})})})});var F={};var P=l(()=>{v();R()});(async()=>{if(window.MaikoScriptShizukuLoaded!==!0){for(;!window.bcModSdk;)await new Promise(e=>setTimeout(e,100));for(window.MaikoScriptShizukuLoaded=!0,console.log("Shizuku loaded"),await Promise.resolve().then(()=>(P(),F));(ServerBeep==null?void 0:ServerBeep.Timer)>CommonTime();)await new Promise(e=>setTimeout(e,1e3));ServerBeep={Message:`Shizuku Loaded, Version: ${await Promise.resolve().then(()=>(c(),y)).then(e=>e.version)}`,Timer:CommonTime()+3e3}}else console.log("Shizuku already loaded")})();})();
//# sourceMappingURL=index.global.js.map