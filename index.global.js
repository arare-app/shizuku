(()=>{var b=Object.defineProperty;var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var R=(e,t)=>{for(var a in t)b(e,a,{get:t[a],enumerable:!0})};var g={};R(g,{default:()=>s,version:()=>d});var d,s,k=S(()=>{d="0.0.7",s=window.bcModSdk.registerMod({name:"Shizuku",version:d,fullName:"Shizuku Bondage Club Mod",repository:"https://github.com/arare-app/shizuku"})});function A(){let e=[{Stage:"0",Option:"(Cheat: Quick Bondage Menu)",Function:null,NextStage:"ShizukuDialogCheatQuickBondageMenu",Group:null,Prerequisite:null,Result:"(You can restrain or release yourself with a single click.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove Restrains Not Locked)",Function:"DialogReleaseNoLock()",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released except for locked items.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove All Restrains Except Collars)",Function:"DialogReleaseTotal()",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released except for slave collars.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Remove All Restrains)",Function:"DialogRelease()",NextStage:"0",Group:null,Prerequisite:"CurrentCharacter.IsRestrained()",Result:"(You have been released.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Apply Random Bondage)",Function:"DialogFullRandomRestrain(Player)",NextStage:"0",Group:null,Prerequisite:"!CurrentCharacter.IsRestrained()",Result:"(You have been restrained.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Apply Random Shibari)",Function:"DialogShibariRandomBondage()",NextStage:"0",Group:null,Prerequisite:"!CurrentCharacter.IsRestrained()",Result:"(You have been restrained with Hemp Rope.)",Trait:null},{Stage:"ShizukuDialogCheatQuickBondageMenu",Option:"(Back to main menu.)",Function:null,NextStage:"0",Group:null,Prerequisite:null,Result:"(Main menu.)",Trait:null}],t=Player.Dialog.findIndex(a=>a.Stage==="0"&&a.Option==="(Leave this menu.)");for(let a=0;a<e.length;a++)Player.Dialog.some(o=>o.Stage==e[a].Stage&&o.Option===e[a].Option&&o.Function===e[a].Function&&o.NextStage===e[a].NextStage&&o.Group===e[a].Group&&o.Prerequisite===e[a].Prerequisite&&o.Result===e[a].Result&&o.Trait===e[a].Trait)||Player.Dialog.splice(t+a,0,e[a])}function w(){s.hookFunction("DialogDraw",10,(e,t)=>(CharacterGetCurrent().IsPlayer()&&A(),t(e)))}var T,I,C,P=S(()=>{k();(T=window.DialogShibariRandomBondage)!=null||(window.DialogShibariRandomBondage=function(){ShibariRandomBondage(Player,Math.floor(Math.random()*6))});(I=window.DialogReleaseNoLock)!=null||(window.DialogReleaseNoLock=function(){CharacterReleaseNoLock(CurrentCharacter)});(C=window.DialogReleaseTotal)!=null||(window.DialogReleaseTotal=function(){CharacterReleaseTotal(CurrentCharacter)});w()});function v(){return CurrentModule=="Online"&&CurrentScreen=="ChatRoom"&&ChatRoomGame=="GGTS"&&ChatRoomSpace==="Asylum"}function F(){var a,o,n,u,c,h,y;let e=[{Stage:"0",Option:"(Cheat: GGTS Helper Menu)",Function:null,NextStage:"ShizukuDialogGGTSHelperMenu",Group:null,Prerequisite:"DialogShizukuGGTSIsGGTS()",Result:"(You can do the required task with a single click.)",Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Cheat: Auto Do Required Task)",Function:"DialogShizukuGGTSAutoDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"!DialogShizukuGGTSEnabledAutoDoRequiredTask",Result:"(Auto do required task enabled.)",Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Cheat: Disable Auto Do Required Task)",Function:"DialogShizukuGGTSDisableAutoDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSEnabledAutoDoRequiredTask",Result:"(Auto do required task disabled.)",Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Cheat: New Task without Waiting)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSNoCurrentTask()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Cheat: Do Required Task)",Function:"DialogShizukuGGTSDoRequiredTask()",NextStage:"0",Group:null,Prerequisite:"DialogShizukuGGTSHasCurrentTask()",Result:null,Trait:null},{Stage:"ShizukuDialogGGTSHelperMenu",Option:"(Back to main menu.)",Function:null,NextStage:"0",Group:null,Prerequisite:null,Result:"(Main menu.)",Trait:null}];(a=window.DialogShizukuGGTSIsGGTS)!=null||(window.DialogShizukuGGTSIsGGTS=v),(o=window.DialogShizukuGGTSNoCurrentTask)!=null||(window.DialogShizukuGGTSNoCurrentTask=function(){return AsylumGGTSTask==null}),(n=window.DialogShizukuGGTSHasCurrentTask)!=null||(window.DialogShizukuGGTSHasCurrentTask=function(){return AsylumGGTSTask!=null}),(u=window.DialogShizukuGGTSDoRequiredTask)!=null||(window.DialogShizukuGGTSDoRequiredTask=f),(c=window.DialogShizukuGGTSEnabledAutoDoRequiredTask)!=null||(window.DialogShizukuGGTSEnabledAutoDoRequiredTask=!1),(h=window.DialogShizukuGGTSAutoDoRequiredTask)!=null||(window.DialogShizukuGGTSAutoDoRequiredTask=function(){window.DialogShizukuGGTSEnabledAutoDoRequiredTask=!0}),(y=window.DialogShizukuGGTSDisableAutoDoRequiredTask)!=null||(window.DialogShizukuGGTSDisableAutoDoRequiredTask=function(){window.DialogShizukuGGTSEnabledAutoDoRequiredTask=!1});let t=Player.Dialog.findIndex(i=>i.Stage==="0"&&i.Function==="DialogLeave()");for(let i=0;i<e.length;i++)Player.Dialog.some(l=>l.Stage==e[i].Stage&&l.Option===e[i].Option&&l.Function===e[i].Function&&l.NextStage===e[i].NextStage&&l.Group===e[i].Group&&l.Prerequisite===e[i].Prerequisite&&l.Result===e[i].Result&&l.Trait===e[i].Trait)||Player.Dialog.splice(t+i,0,e[i])}function M(){s.hookFunction("DialogDraw",10,(e,t)=>(CharacterGetCurrent().IsPlayer()&&F(),t(e)))}function G(){var t,a,o;if(!Player.IsRestrained())return;Player.Pose.includes("LegsClosed")&&((o=(a=(t=Player.Game)==null?void 0:t.GGTS)==null?void 0:a.Rule)!=null&&o.includes("KeepPose"))&&CharacterSetActivePose(Player,"LegsClosed",!0),["ItemLegs","ItemFeet"].forEach(n=>{InventoryGet(Player,n)&&InventoryRemove(Player,n)})}function r(e,t){InventoryGet(Player,e)==null?InventoryWear(Player,t,e,"#202020",0):console.warn(`Cannot wear ${t} because ${e} is already worn.`)}function f(){var e;if(v()){if(AsylumGGTSTask==null)return AsylumGGTSNewTask(),DialogLeave();switch(AsylumGGTSTask){case"ActivityBite":case"ActivityCaress":case"ActivityHandGag":case"ActivityKiss":case"ActivityLick":case"ActivityMasturbateHand":case"ActivityNod":case"ActivityPet":case"ActivityPinch":case"ActivitySpank":case"ActivityTickle":case"ActivityWiggle":{G();let t=ActivityFemale3DCG.find(u=>u.Name===AsylumGGTSTask.substr(8)),o=((e=t.TargetSelf===!0?t.Target:t.TargetSelf)!=null?e:[]).filter(u=>ActivityCheckPrerequisites(t,Player,AsylumGGTSTaskTarget!=null?AsylumGGTSTaskTarget:Player,AssetGroupGet("Female3DCG",u)));(!t||o.length==0)&&ChatRoomSendLocal("Activity group not found: "+t);let n=setInterval(()=>{AsylumGGTSTask==null&&clearInterval(n);let u=AssetGroupGet("Female3DCG",CommonRandomItemFromList(null,o));ActivityRun(Player,AsylumGGTSTaskTarget!=null?AsylumGGTSTaskTarget:Player,u,{Activity:t},!0)},1e3)}break;case"PoseKneel":G(),CharacterSetActivePose(Player,"Kneel");break;case"PoseStand":G(),CharacterSetActivePose(Player,"BaseLower");break;case"PoseOverHead":CharacterSetActivePose(Player,"Yoked");break;case"PoseBehindBack":CharacterSetActivePose(Player,"BackCuffs");break;case"PoseLegsOpen":G(),CharacterSetActivePose(Player,"BaseLower");break;case"PoseLegsClosed":G(),CharacterSetActivePose(Player,"LegsClosed");break;case"ClothHeels":InventoryWear(Player,"Heels1","Shoes","#72686F",0);break;case"ClothSocks":InventoryGet(Player,"Socks")==null&&InventoryWear(Player,"Socks4","Socks","#BCBCBC",0),InventoryGet(Player,"Shoes")!=null&&InventoryRemove(Player,"Shoes"),InventoryGet(Player,"ItemBoots")!=null&&InventoryRemove(Player,"ItemBoots");break;case"ClothBarefoot":InventoryGet(Player,"Socks")!=null&&InventoryRemove(Player,"Socks"),InventoryGet(Player,"Shoes")!=null&&InventoryRemove(Player,"Shoes"),InventoryGet(Player,"ItemBoots")!=null&&InventoryRemove(Player,"ItemBoots");break;case"ClothUpperLowerOn":(InventoryGet(Player,"Cloth")==null||InventoryGet(Player,"ClothLower")==null)&&m.Cloth==null&&m.ClothLower==null&&(CharacterAppearanceSetItem(Player,"Cloth",m.Cloth),CharacterAppearanceSetItem(Player,"ClothLower",m.ClothLower)),(InventoryGet(Player,"Cloth")==null||InventoryGet(Player,"ClothLower")==null)&&WardrobeFastLoad(Player,0,!1),(InventoryGet(Player,"Cloth")==null||InventoryGet(Player,"ClothLower")==null)&&(InventoryWearRandom(Player,"Cloth",0,!0,!0),InventoryWearRandom(Player,"ClothLower",0,!0,!0));break;case"ClothUpperLowerOff":InventoryGet(Player,"Cloth")!=null&&InventoryRemove(Player,"Cloth"),InventoryGet(Player,"ClothLower")!=null&&InventoryRemove(Player,"ClothLower");break;case"ClothUnderwear":(CharacterIsNaked(Player)||!CharacterIsInUnderwear(Player))&&(CharacterNaked(Player),InventoryWear(Player,"Bra2","Bra","#FFFFFF"),InventoryWear(Player,"Panties7","Panties","#DE21A7"));break;case"ClothNaked":CharacterNaked(Player);break;case"RestrainLegs":InventoryWear(Player,"HempRope","ItemLegs",null,100);break;case"ItemHandsFuturisticMittens":r("ItemHands","FuturisticMittens");break;case"ItemHeadFuturisticMask":r("ItemHead","FuturisticMask");break;case"ItemEarsFuturisticEarphones":r("ItemEars","FuturisticEarphones");break;case"ItemNeckFuturisticCollar":r("ItemNeck","FuturisticCollar");break;case"ItemArmsFuturisticArmbinder":r("ItemArms","FuturisticArmbinder");break;case"ItemArmsFuturisticStraitjacket":r("ItemArms","FuturisticStraitjacket");break;case"ItemArmsFuturisticCuffs":r("ItemArms","FuturisticCuffs");break;case"ItemArmsFeetFuturisticCuffs":r("ItemArms","FuturisticCuffs"),r("ItemLegs","FuturisticLegCuffs"),r("ItemFeet","FuturisticAnkleCuffs");break;case"ItemBootsFuturisticHeels":r("ItemBoots","FuturisticHeels");break;case"ItemMouthFuturisticBallGag":InventoryGet(Player,"ItemMouth")==null?r("ItemMouth","FuturisticHarnessBallGag"):InventoryGet(Player,"ItemMouth2")==null?r("ItemMouth2","FuturisticHarnessBallGag"):InventoryGet(Player,"ItemMouth3")==null&&r("ItemMouth3","FuturisticHarnessBallGag");break;case"ItemMouthFuturisticPanelGag":InventoryGet(Player,"ItemMouth")==null?r("ItemMouth","FuturisticHarnessPanelGag"):InventoryGet(Player,"ItemMouth2")==null?r("ItemMouth2","FuturisticHarnessPanelGag"):InventoryGet(Player,"ItemMouth3")==null&&r("ItemMouth3","FuturisticHarnessPanelGag");break;case"ItemPelvisFuturisticChastityBelt":r("ItemPelvis","FuturisticChastityBelt");break;case"ItemPelvisFuturisticTrainingBelt":r("ItemPelvis","FuturisticTrainingBelt");break;case"ItemBreastFuturisticBra":r("ItemBreast","FuturisticBra");break;case"ItemBreastFuturisticBra2":r("ItemBreast","FuturisticBra2");break;case"ItemTorsoFuturisticHarness":r("ItemTorso","FuturisticHarness");break;case"NoTalking":case"ItemPose":case"ItemRemoveLimb":case"ItemRemoveBody":case"ItemRemoveHead":case"ItemUngag":case"ItemChaste":case"ItemUnchaste":case"ItemIntensity":case"ItemEarsDeaf":case"ItemMaskBlind":case"ItemFuckMachineIntensity":case"ItemTransform":case"ItemChangeGag":case"ItemBeltToFuck":case"ItemFuckToBelt":case"NewRuleNoOrgasm":case"UndoRuleNoOrgasm":case"UndoRuleKeepPose":case"LockRoom":case"UnlockRoom":break}AsylumGGTSTask!=null&&AsylumGGTSTask.startsWith("Query")&&B(),DialogLeave()}}function B(){if(!AsylumGGTSTask)return;let e="",t=AsylumGGTSGetLevel(Player);switch(AsylumGGTSTask){case"QueryWhatIsGGTS":e="Good Girl Training System";break;case"QueryWhatAreYou":t<=4?e="I'm a good girl.":t==5?e="I'm a good slave girl.":t>=6&&(e="I'm a good slave.");break;case"QueryWhoControl":e="GGTS is in control.";break;case"QueryWhoControlMaster":e="Master GGTS is in control.";break;case"QueryLove":e="I love GGTS.";break;case"QueryLoveMaster":e="I love Master GGTS.";break;case"QueryCanFail":e="GGTS cannot fail.";break;case"QueryCanFailMaster":e="Master GGTS cannot fail.";break;case"QuerySurrender":e="I surrender to GGTS.";break;case"QuerySurrenderMaster":e="I surrender to Master GGTS.";break;case"QueryServeObey":e="I serve and obey GGTS.";break;case"QueryServeObeyMaster":e="I serve and obey Master GGTS.";break;case"QueryFreeWill":e="I don't have free will.";break;case"QuerySlaveWorthy":e="I strive to be slave worthy.";break;default:console.log("Unknown query: "+AsylumGGTSTask);break}if(e){let a=document.getElementById("InputChat");if(!a)return;a.value=e,ChatRoomSendChat()}}var m,p=S(()=>{k();m={Cloth:null,ClothLower:null};s.hookFunction("AsylumGGTSLoad",10,(e,t)=>{var a,o,n,u;t(e),m={Cloth:(o=(a=Player.Appearance.find(c=>c.Asset.Group.Name==="Cloth"))==null?void 0:a.Asset)!=null?o:null,ClothLower:(u=(n=Player.Appearance.find(c=>c.Asset.Group.Name==="ClothLower"))==null?void 0:n.Asset)!=null?u:null}});s.hookFunction("AsylumGGTSNewTask",10,(e,t)=>{t(e),Notification.permission==="granted"?new Notification("New GGTS Task",{body:AsylumGGTSTask,icon:"Icons/Logo.png"}):Notification.permission!=="denied"&&Notification.requestPermission().then(a=>{a==="granted"&&new Notification("New GGTS Task",{body:AsylumGGTSTask,icon:"Icons/Logo.png"})}),window.DialogShizukuGGTSEnabledAutoDoRequiredTask&&setTimeout(()=>{f()},2e3)});M()});var L={};var D=S(()=>{P();p()});(async()=>{if(window.MaikoScriptShizukuLoaded!==!0){for(;!window.bcModSdk;)await new Promise(e=>setTimeout(e,100));for(window.MaikoScriptShizukuLoaded=!0,console.log("Shizuku loaded"),await Promise.resolve().then(()=>(D(),L));(ServerBeep==null?void 0:ServerBeep.Timer)>CommonTime();)await new Promise(e=>setTimeout(e,1e3));ServerBeep={Message:`Shizuku Loaded, Version: ${await Promise.resolve().then(()=>(k(),g)).then(e=>e.version)}`,Timer:CommonTime()+3e3}}else console.log("Shizuku already loaded")})();})();
//# sourceMappingURL=index.global.js.map